{"ast":null,"code":"import { LookupMatcher } from './LookupMatcher';\nimport { BestFitMatcher } from './BestFitMatcher';\nimport { invariant } from './utils';\nimport { UnicodeExtensionValue } from './UnicodeExtensionValue';\n/**\r\n * https://tc39.es/ecma402/#sec-resolvelocale\r\n */\n\nexport function ResolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData, getDefaultLocale) {\n  var matcher = options.localeMatcher;\n  var r;\n\n  if (matcher === 'lookup') {\n    r = LookupMatcher(availableLocales, requestedLocales, getDefaultLocale);\n  } else {\n    r = BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale);\n  }\n\n  var foundLocale = r.locale;\n  var result = {\n    locale: '',\n    dataLocale: foundLocale\n  };\n  var supportedExtension = '-u';\n\n  for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n    var key = relevantExtensionKeys_1[_i];\n    invariant(foundLocale in localeData, \"Missing locale data for \" + foundLocale);\n    var foundLocaleData = localeData[foundLocale];\n    invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n    var keyLocaleData = foundLocaleData[key];\n    invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n    var value = keyLocaleData[0];\n    invariant(typeof value === 'string' || value === null, \"value must be string or null but got \" + typeof value + \" in key \" + key);\n    var supportedExtensionAddition = '';\n\n    if (r.extension) {\n      var requestedValue = UnicodeExtensionValue(r.extension, key);\n\n      if (requestedValue !== undefined) {\n        if (requestedValue !== '') {\n          if (~keyLocaleData.indexOf(requestedValue)) {\n            value = requestedValue;\n            supportedExtensionAddition = \"-\" + key + \"-\" + value;\n          }\n        } else if (~requestedValue.indexOf('true')) {\n          value = 'true';\n          supportedExtensionAddition = \"-\" + key;\n        }\n      }\n    }\n\n    if (key in options) {\n      var optionsValue = options[key];\n      invariant(typeof optionsValue === 'string' || typeof optionsValue === 'undefined' || optionsValue === null, 'optionsValue must be String, Undefined or Null');\n\n      if (~keyLocaleData.indexOf(optionsValue)) {\n        if (optionsValue !== value) {\n          value = optionsValue;\n          supportedExtensionAddition = '';\n        }\n      }\n    }\n\n    result[key] = value;\n    supportedExtension += supportedExtensionAddition;\n  }\n\n  if (supportedExtension.length > 2) {\n    var privateIndex = foundLocale.indexOf('-x-');\n\n    if (privateIndex === -1) {\n      foundLocale = foundLocale + supportedExtension;\n    } else {\n      var preExtension = foundLocale.slice(0, privateIndex);\n      var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n      foundLocale = preExtension + supportedExtension + postExtension;\n    }\n\n    foundLocale = Intl.getCanonicalLocales(foundLocale)[0];\n  }\n\n  result.locale = foundLocale;\n  return result;\n}","map":{"version":3,"names":["LookupMatcher","BestFitMatcher","invariant","UnicodeExtensionValue","ResolveLocale","availableLocales","requestedLocales","options","relevantExtensionKeys","localeData","getDefaultLocale","matcher","localeMatcher","r","foundLocale","locale","result","dataLocale","supportedExtension","_i","relevantExtensionKeys_1","length","key","foundLocaleData","keyLocaleData","Array","isArray","value","supportedExtensionAddition","extension","requestedValue","undefined","indexOf","optionsValue","privateIndex","preExtension","slice","postExtension","Intl","getCanonicalLocales"],"sources":["C:/suresh/project-two/metiegrow-ui-app/node_modules/@formatjs/ecma402-abstract/lib/ResolveLocale.js"],"sourcesContent":["import { LookupMatcher } from './LookupMatcher';\r\nimport { BestFitMatcher } from './BestFitMatcher';\r\nimport { invariant } from './utils';\r\nimport { UnicodeExtensionValue } from './UnicodeExtensionValue';\r\n/**\r\n * https://tc39.es/ecma402/#sec-resolvelocale\r\n */\r\nexport function ResolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData, getDefaultLocale) {\r\n    var matcher = options.localeMatcher;\r\n    var r;\r\n    if (matcher === 'lookup') {\r\n        r = LookupMatcher(availableLocales, requestedLocales, getDefaultLocale);\r\n    }\r\n    else {\r\n        r = BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale);\r\n    }\r\n    var foundLocale = r.locale;\r\n    var result = { locale: '', dataLocale: foundLocale };\r\n    var supportedExtension = '-u';\r\n    for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\r\n        var key = relevantExtensionKeys_1[_i];\r\n        invariant(foundLocale in localeData, \"Missing locale data for \" + foundLocale);\r\n        var foundLocaleData = localeData[foundLocale];\r\n        invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\r\n        var keyLocaleData = foundLocaleData[key];\r\n        invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\r\n        var value = keyLocaleData[0];\r\n        invariant(typeof value === 'string' || value === null, \"value must be string or null but got \" + typeof value + \" in key \" + key);\r\n        var supportedExtensionAddition = '';\r\n        if (r.extension) {\r\n            var requestedValue = UnicodeExtensionValue(r.extension, key);\r\n            if (requestedValue !== undefined) {\r\n                if (requestedValue !== '') {\r\n                    if (~keyLocaleData.indexOf(requestedValue)) {\r\n                        value = requestedValue;\r\n                        supportedExtensionAddition = \"-\" + key + \"-\" + value;\r\n                    }\r\n                }\r\n                else if (~requestedValue.indexOf('true')) {\r\n                    value = 'true';\r\n                    supportedExtensionAddition = \"-\" + key;\r\n                }\r\n            }\r\n        }\r\n        if (key in options) {\r\n            var optionsValue = options[key];\r\n            invariant(typeof optionsValue === 'string' ||\r\n                typeof optionsValue === 'undefined' ||\r\n                optionsValue === null, 'optionsValue must be String, Undefined or Null');\r\n            if (~keyLocaleData.indexOf(optionsValue)) {\r\n                if (optionsValue !== value) {\r\n                    value = optionsValue;\r\n                    supportedExtensionAddition = '';\r\n                }\r\n            }\r\n        }\r\n        result[key] = value;\r\n        supportedExtension += supportedExtensionAddition;\r\n    }\r\n    if (supportedExtension.length > 2) {\r\n        var privateIndex = foundLocale.indexOf('-x-');\r\n        if (privateIndex === -1) {\r\n            foundLocale = foundLocale + supportedExtension;\r\n        }\r\n        else {\r\n            var preExtension = foundLocale.slice(0, privateIndex);\r\n            var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\r\n            foundLocale = preExtension + supportedExtension + postExtension;\r\n        }\r\n        foundLocale = Intl.getCanonicalLocales(foundLocale)[0];\r\n    }\r\n    result.locale = foundLocale;\r\n    return result;\r\n}\r\n"],"mappings":"AAAA,SAASA,aAAT,QAA8B,iBAA9B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,SAAT,QAA0B,SAA1B;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuBC,gBAAvB,EAAyCC,gBAAzC,EAA2DC,OAA3D,EAAoEC,qBAApE,EAA2FC,UAA3F,EAAuGC,gBAAvG,EAAyH;EAC5H,IAAIC,OAAO,GAAGJ,OAAO,CAACK,aAAtB;EACA,IAAIC,CAAJ;;EACA,IAAIF,OAAO,KAAK,QAAhB,EAA0B;IACtBE,CAAC,GAAGb,aAAa,CAACK,gBAAD,EAAmBC,gBAAnB,EAAqCI,gBAArC,CAAjB;EACH,CAFD,MAGK;IACDG,CAAC,GAAGZ,cAAc,CAACI,gBAAD,EAAmBC,gBAAnB,EAAqCI,gBAArC,CAAlB;EACH;;EACD,IAAII,WAAW,GAAGD,CAAC,CAACE,MAApB;EACA,IAAIC,MAAM,GAAG;IAAED,MAAM,EAAE,EAAV;IAAcE,UAAU,EAAEH;EAA1B,CAAb;EACA,IAAII,kBAAkB,GAAG,IAAzB;;EACA,KAAK,IAAIC,EAAE,GAAG,CAAT,EAAYC,uBAAuB,GAAGZ,qBAA3C,EAAkEW,EAAE,GAAGC,uBAAuB,CAACC,MAA/F,EAAuGF,EAAE,EAAzG,EAA6G;IACzG,IAAIG,GAAG,GAAGF,uBAAuB,CAACD,EAAD,CAAjC;IACAjB,SAAS,CAACY,WAAW,IAAIL,UAAhB,EAA4B,6BAA6BK,WAAzD,CAAT;IACA,IAAIS,eAAe,GAAGd,UAAU,CAACK,WAAD,CAAhC;IACAZ,SAAS,CAAC,OAAOqB,eAAP,KAA2B,QAA3B,IAAuCA,eAAe,KAAK,IAA5D,EAAkE,iBAAiBD,GAAjB,GAAuB,oBAAzF,CAAT;IACA,IAAIE,aAAa,GAAGD,eAAe,CAACD,GAAD,CAAnC;IACApB,SAAS,CAACuB,KAAK,CAACC,OAAN,CAAcF,aAAd,CAAD,EAA+B,uBAAuBF,GAAvB,GAA6B,mBAA5D,CAAT;IACA,IAAIK,KAAK,GAAGH,aAAa,CAAC,CAAD,CAAzB;IACAtB,SAAS,CAAC,OAAOyB,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAK,IAAxC,EAA8C,0CAA0C,OAAOA,KAAjD,GAAyD,UAAzD,GAAsEL,GAApH,CAAT;IACA,IAAIM,0BAA0B,GAAG,EAAjC;;IACA,IAAIf,CAAC,CAACgB,SAAN,EAAiB;MACb,IAAIC,cAAc,GAAG3B,qBAAqB,CAACU,CAAC,CAACgB,SAAH,EAAcP,GAAd,CAA1C;;MACA,IAAIQ,cAAc,KAAKC,SAAvB,EAAkC;QAC9B,IAAID,cAAc,KAAK,EAAvB,EAA2B;UACvB,IAAI,CAACN,aAAa,CAACQ,OAAd,CAAsBF,cAAtB,CAAL,EAA4C;YACxCH,KAAK,GAAGG,cAAR;YACAF,0BAA0B,GAAG,MAAMN,GAAN,GAAY,GAAZ,GAAkBK,KAA/C;UACH;QACJ,CALD,MAMK,IAAI,CAACG,cAAc,CAACE,OAAf,CAAuB,MAAvB,CAAL,EAAqC;UACtCL,KAAK,GAAG,MAAR;UACAC,0BAA0B,GAAG,MAAMN,GAAnC;QACH;MACJ;IACJ;;IACD,IAAIA,GAAG,IAAIf,OAAX,EAAoB;MAChB,IAAI0B,YAAY,GAAG1B,OAAO,CAACe,GAAD,CAA1B;MACApB,SAAS,CAAC,OAAO+B,YAAP,KAAwB,QAAxB,IACN,OAAOA,YAAP,KAAwB,WADlB,IAENA,YAAY,KAAK,IAFZ,EAEkB,gDAFlB,CAAT;;MAGA,IAAI,CAACT,aAAa,CAACQ,OAAd,CAAsBC,YAAtB,CAAL,EAA0C;QACtC,IAAIA,YAAY,KAAKN,KAArB,EAA4B;UACxBA,KAAK,GAAGM,YAAR;UACAL,0BAA0B,GAAG,EAA7B;QACH;MACJ;IACJ;;IACDZ,MAAM,CAACM,GAAD,CAAN,GAAcK,KAAd;IACAT,kBAAkB,IAAIU,0BAAtB;EACH;;EACD,IAAIV,kBAAkB,CAACG,MAAnB,GAA4B,CAAhC,EAAmC;IAC/B,IAAIa,YAAY,GAAGpB,WAAW,CAACkB,OAAZ,CAAoB,KAApB,CAAnB;;IACA,IAAIE,YAAY,KAAK,CAAC,CAAtB,EAAyB;MACrBpB,WAAW,GAAGA,WAAW,GAAGI,kBAA5B;IACH,CAFD,MAGK;MACD,IAAIiB,YAAY,GAAGrB,WAAW,CAACsB,KAAZ,CAAkB,CAAlB,EAAqBF,YAArB,CAAnB;MACA,IAAIG,aAAa,GAAGvB,WAAW,CAACsB,KAAZ,CAAkBF,YAAlB,EAAgCpB,WAAW,CAACO,MAA5C,CAApB;MACAP,WAAW,GAAGqB,YAAY,GAAGjB,kBAAf,GAAoCmB,aAAlD;IACH;;IACDvB,WAAW,GAAGwB,IAAI,CAACC,mBAAL,CAAyBzB,WAAzB,EAAsC,CAAtC,CAAd;EACH;;EACDE,MAAM,CAACD,MAAP,GAAgBD,WAAhB;EACA,OAAOE,MAAP;AACH"},"metadata":{},"sourceType":"module"}