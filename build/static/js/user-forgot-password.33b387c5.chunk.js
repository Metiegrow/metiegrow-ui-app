(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[7,10],{123:function(e,s,n){"use strict";n.d(s,"a",(function(){return r}));n(2);var t=n(220),a=n(11);const r=e=>Object(a.jsx)(t.a,{...e,widths:["xxs","xs","sm","md","lg","xl","xxl"]})},144:function(e,s,n){"use strict";n(2);var t=n(481),a=n(217),r=n(11);s.a=Object(a.c)((e=>Object(r.jsx)(t.a,{...e})),{withRef:!1})},148:function(e,s,n){"use strict";n.d(s,"a",(function(){return i})),n.d(s,"f",(function(){return a})),n.d(s,"g",(function(){return c})),n.d(s,"d",(function(){return r})),n.d(s,"o",(function(){return l})),n.d(s,"e",(function(){return d})),n.d(s,"h",(function(){return u.a})),n.d(s,"m",(function(){return u.h})),n.d(s,"l",(function(){return u.g})),n.d(s,"k",(function(){return u.d})),n.d(s,"n",(function(){return u.k})),n.d(s,"b",(function(){return m.a})),n.d(s,"c",(function(){return m.b})),n.d(s,"i",(function(){return m.c})),n.d(s,"j",(function(){return m.f}));var t=n(3);const a=e=>({type:t.t,payload:e}),r=e=>({type:t.s,payload:e}),i=(e,s)=>{const n=!s.indexOf(e)>-1?`${s} ${e}`:s;return{type:t.v,payload:n}},c=e=>{const s=e?e.split(" ").filter((e=>""!==e&&"sub-show-temporary"!==e)):"";let n="";return n=s.includes("main-show-temporary")?s.filter((e=>"main-show-temporary"!==e)).join(" "):`${s.join(" ")} main-show-temporary`,{type:t.u,payload:{containerClassnames:n,menuClickCount:0}}},l=(e,s,n)=>{const a=s?s.split(" ").filter((e=>""!==e)):"";let r="";return n||(!a.includes("menu-default")||e%4!==0&&e%4!==3||(e=1),a.includes("menu-sub-hidden")&&e%4===2&&(e=0),!a.includes("menu-hidden")||e%4!==2&&e%4!==3||(e=0)),e%4===0?(a.includes("menu-default")&&a.includes("menu-sub-hidden")?r="menu-default menu-sub-hidden":a.includes("menu-default")?r="menu-default":a.includes("menu-sub-hidden")?r="menu-sub-hidden":a.includes("menu-hidden")&&(r="menu-hidden"),e=0):e%4===1?a.includes("menu-default")&&a.includes("menu-sub-hidden")?r="menu-default menu-sub-hidden main-hidden sub-hidden":a.includes("menu-default")?r="menu-default sub-hidden":a.includes("menu-sub-hidden")?r="menu-sub-hidden main-hidden sub-hidden":a.includes("menu-hidden")&&(r="menu-hidden main-show-temporary"):e%4===2?a.includes("menu-default")&&a.includes("menu-sub-hidden")?r="menu-default menu-sub-hidden sub-hidden":a.includes("menu-default")?r="menu-default main-hidden sub-hidden":a.includes("menu-sub-hidden")?r="menu-sub-hidden sub-hidden":a.includes("menu-hidden")&&(r="menu-hidden main-show-temporary sub-show-temporary"):e%4===3&&(a.includes("menu-default")&&a.includes("menu-sub-hidden")?r="menu-default menu-sub-hidden sub-show-temporary":a.includes("menu-default")?r="menu-default sub-hidden":a.includes("menu-sub-hidden")?r="menu-sub-hidden sub-show-temporary":a.includes("menu-hidden")&&(r="menu-hidden main-show-temporary")),a.includes("menu-mobile")&&(r+=" menu-mobile"),{type:t.w,payload:{containerClassnames:r,menuClickCount:e}}};var o=n(15);const d=e=>(Object(o.h)(e),{type:t.a,payload:e});var u=n(13),m=n(17)},286:function(e,s,n){"use strict";var t=n(10),a=n(12),r=n(35),i=n(21),c=n(2),l=n.n(c),o=n(30),d=n.n(o),u=n(26),m=n.n(u),b=n(122),j=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],h={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:b.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},p=function(e){function s(s){var n;return(n=e.call(this,s)||this).getRef=n.getRef.bind(Object(r.a)(n)),n.focus=n.focus.bind(Object(r.a)(n)),n}Object(i.a)(s,e);var n=s.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,s=e.className,n=e.cssModule,r=e.type,i=e.bsSize,c=e.valid,o=e.invalid,d=e.tag,u=e.addon,h=e.plaintext,p=e.innerRef,f=Object(a.a)(e,j),O=["radio","checkbox"].indexOf(r)>-1,x=new RegExp("\\D","g"),w=d||("select"===r||"textarea"===r?r:"input"),g="form-control";h?(g+="-plaintext",w=d||"input"):"file"===r?g+="-file":"range"===r?g+="-range":O&&(g=u?null:"form-check-input"),f.size&&x.test(f.size)&&(Object(b.warnOnce)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=f.size,delete f.size);var y=Object(b.mapToCssModules)(m()(s,o&&"is-invalid",c&&"is-valid",!!i&&"form-control-"+i,g),n);return("input"===w||d&&"function"===typeof d)&&(f.type=r),f.children&&!h&&"select"!==r&&"string"===typeof w&&"select"!==w&&(Object(b.warnOnce)('Input with a type of "'+r+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete f.children),l.a.createElement(w,Object(t.a)({},f,{ref:p,className:y,"aria-invalid":o}))},s}(l.a.Component);p.propTypes=h,p.defaultProps={type:"text"},s.a=p},477:function(e,s,n){"use strict";n.r(s);var t=n(2),a=n(221),r=n(230),i=n(231),c=n(330),l=n(331),o=n(200),d=n(134),u=n(125),m=n(135),b=n(37),j=n(123),h=n(144),p=n(148),f=n(27),O=n(25),x=n(11);const w=e=>{const{newPassword:s,confirmPassword:n}=e,t={};return n&&s!==n&&(t.confirmPassword="Please check your new password"),t};s.default=Object(b.b)((e=>{let{authUser:s}=e;const{newPassword:n,resetPasswordCode:t,loading:a,error:r}=s;return{newPassword:n,resetPasswordCode:t,loading:a,error:r}}),{resetPasswordAction:p.n})((e=>{let{loading:s,error:n,email:b}=e;const[p]=Object(t.useState)(""),[g]=Object(t.useState)(""),[y,N]=Object(t.useState)(!1),v=Object(d.useHistory)();Object(t.useEffect)((()=>{n?f.b.warning(n,"Forgot Password Error",3e3,null,null,""):s||"success"!==p||f.b.success("Please login with your new password.","Reset Password Success",3e3,null,null,"")}),[n,s,p]);const P={newPassword:p,confirmPassword:g};return Object(x.jsx)(a.a,{className:"h-100",children:Object(x.jsx)(j.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(x.jsxs)(r.a,{className:"auth-card",children:[Object(x.jsxs)("div",{className:"position-relative image-side ",children:[Object(x.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(x.jsxs)("p",{className:"white mb-0",children:["Please use your e-mail to reset your password. ",Object(x.jsx)("br",{}),"If you are not a member, please"," ",Object(x.jsx)(u.b,{to:"/register",className:"white",children:"register"}),"."]})]}),Object(x.jsxs)("div",{className:"form-side",children:[Object(x.jsx)(u.b,{to:"/",className:"white",children:Object(x.jsx)("span",{className:"logo-single"})}),Object(x.jsx)(i.a,{className:"mb-4",children:"Reset password"}),Object(x.jsx)(m.c,{validate:w,initialValues:P,onSubmit:async e=>{if(N(!0),!s)try{if(""!==e.newPassword){const s=await O.a.confirmPasswordReset({newPassword:e.newPassword,confirmPassword:e.confirmPassword,email:b});s&&200===s.status?(s.data.statuses.forEach((e=>{f.b.success(e.message,e.status,6e3,null,null,"")})),v.push("/login"),N(!1)):f.b.warning("Please check your email url.","Reset Password Error",3e3,null,null,"")}}catch(n){console.error("An error occurred during password reset:",n),f.b.error("An unexpected error occurred.","Reset Password Error",3e3,null,null,"")}},children:e=>{let{errors:s,touched:n}=e;return Object(x.jsxs)(m.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(x.jsxs)(c.a,{className:"form-group has-float-label",children:[Object(x.jsx)(l.a,{children:"New password"}),Object(x.jsx)(m.a,{className:"form-control",name:"newPassword",type:"password"})]}),Object(x.jsxs)(c.a,{className:"form-group has-float-label",children:[Object(x.jsx)(l.a,{children:"Confirm new password"}),Object(x.jsx)(m.a,{className:"form-control",name:"confirmPassword",type:"password"}),s.confirmPassword&&n.confirmPassword&&Object(x.jsx)("div",{className:"invalid-feedback d-block",children:s.confirmPassword})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(x.jsx)(u.b,{to:"/login",children:"Back to login"}),Object(x.jsxs)(o.a,{color:"primary",className:"btn-shadow btn-multiple-state "+(y?"show-spinner":""),size:"lg",children:[Object(x.jsxs)("span",{className:"spinner d-inline-block",children:[Object(x.jsx)("span",{className:"bounce1"}),Object(x.jsx)("span",{className:"bounce2"}),Object(x.jsx)("span",{className:"bounce3"})]}),Object(x.jsx)("span",{className:"label",children:Object(x.jsx)(h.a,{id:"user.reset-password-button"})})]})]})]})}})]})]})})})}))},866:function(e,s,n){"use strict";n.r(s);var t=n(2),a=n(221),r=n(230),i=n(231),c=n(330),l=n(331),o=n(200),d=n(286),u=n(125),m=n(135),b=n(37),j=n(123),h=n(144),p=n(148),f=n(27),O=n(25),x=n(19),w=n.n(x),g=n(8),y=n(477),N=n(11);const v=e=>{let s;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(s="Invalid email address"):s="Please enter your email address",s};s.default=Object(b.b)((e=>{let{authUser:s}=e;const{forgotUserMail:n,loading:t,error:a}=s;return{forgotUserMail:n,loading:t,error:a}}),{forgotPasswordAction:p.h})((e=>{let{loading:s}=e;const[n,b]=Object(t.useState)(""),[p,x]=Object(t.useState)(0),[P,S]=Object(t.useState)(!1),[k,E]=Object(t.useState)(!1),[R,C]=Object(t.useState)(!1),z={email:n};return R?Object(N.jsx)(y.default,{email:n}):Object(N.jsx)(a.a,{className:"h-100",children:Object(N.jsx)(j.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(N.jsxs)(r.a,{className:"auth-card",children:[Object(N.jsxs)("div",{className:"position-relative image-side",children:[Object(N.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(N.jsxs)("p",{className:"white mb-0",children:["Please use your e-mail to reset your password. ",Object(N.jsx)("br",{}),"If you are not a member, please"," ",Object(N.jsx)(u.b,{to:"/user/register",className:"white",children:"register"}),"."]})]}),Object(N.jsxs)("div",{className:"form-side",children:[Object(N.jsx)(u.b,{to:"/",className:"white",children:Object(N.jsx)("span",{className:"logo-single"})}),Object(N.jsx)(i.a,{className:"mb-4",children:Object(N.jsx)(h.a,{id:"user.forgot-password"})}),Object(N.jsx)(m.c,{initialValues:z,onSubmit:async e=>{if(!s&&(b(e.email),""!==e.email)){const s=await O.a.sendPasswordResetEmail(e.email);s&&200===s.status?S(!0):(console.error("forgot email post Failed:",s),s.data.statuses.forEach((e=>{f.b.warning(e.message,e.status,5e3,null,null,"")})))}},children:e=>{let{errors:n,touched:t}=e;return Object(N.jsxs)(m.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(N.jsxs)(c.a,{className:"form-group has-float-label",children:[Object(N.jsx)(l.a,{children:Object(N.jsx)(h.a,{id:"user.email"})}),Object(N.jsx)(m.a,{className:"form-control",name:"email",validate:v}),n.email&&t.email&&Object(N.jsx)("div",{className:"invalid-feedback d-block",children:n.email})]}),!P&&Object(N.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(N.jsx)(u.b,{to:"/login",children:"Back to login"}),Object(N.jsxs)(o.a,{type:"submit",color:"primary",className:"btn-shadow btn-multiple-state "+(s?"show-spinner":""),size:"lg",children:[Object(N.jsxs)("span",{className:"spinner d-inline-block",children:[Object(N.jsx)("span",{className:"bounce1"}),Object(N.jsx)("span",{className:"bounce2"}),Object(N.jsx)("span",{className:"bounce3"})]}),Object(N.jsx)("span",{className:"label",children:"Submit"})]})]})]})}}),P&&Object(N.jsxs)(c.a,{className:"form-group has-float-label mt-4",children:[Object(N.jsx)(l.a,{children:"Enter OTP"}),Object(N.jsx)(d.a,{className:"form-control",name:"otp",type:"number",onChange:e=>x(e.target.value)}),Object(N.jsx)("div",{className:"text-right",children:Object(N.jsxs)(o.a,{color:"primary",className:"mt-3 btn-shadow btn-multiple-state "+(k?"show-spinner":""),size:"lg",onClick:async()=>{E(!0);try{const e={email:n,otp:p},s=`${g.d}/api/verifyotp`,t=await w.a.post(s,e);"success"===t.data.statuses[0].status&&(C(!0),E(!1),t.data.statuses.forEach((e=>{f.b.success(e.message,e.status,6e3,null,null,"")})))}catch(e){console.error("Error Submitting OTP:",e.response?e.response.data:e.message),setTimeout((()=>{f.b.warning("Error Submitting OTP","Oops!",3e3,null,null,""),E(!1)}),3e3)}},children:[Object(N.jsxs)("span",{className:"spinner d-inline-block",children:[Object(N.jsx)("span",{className:"bounce1"}),Object(N.jsx)("span",{className:"bounce2"}),Object(N.jsx)("span",{className:"bounce3"})]}),Object(N.jsx)("span",{className:"label",children:"Submit OTP"})]})})]})]})]})})})}))}}]);
//# sourceMappingURL=user-forgot-password.33b387c5.chunk.js.map