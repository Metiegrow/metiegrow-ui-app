(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[7,10],{123:function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var a=t(3),n=(t(2),t(221)),c=t(12);const r=e=>Object(c.jsx)(n.a,Object(a.a)(Object(a.a)({},e),{},{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))},145:function(e,s,t){"use strict";var a=t(3),n=(t(2),t(482)),c=t(218),r=t(12);s.a=Object(c.c)((e=>Object(r.jsx)(n.a,Object(a.a)({},e))),{withRef:!1})},149:function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"f",(function(){return n})),t.d(s,"g",(function(){return i})),t.d(s,"d",(function(){return c})),t.d(s,"o",(function(){return l})),t.d(s,"e",(function(){return d})),t.d(s,"h",(function(){return u.a})),t.d(s,"m",(function(){return u.h})),t.d(s,"l",(function(){return u.g})),t.d(s,"k",(function(){return u.d})),t.d(s,"n",(function(){return u.k})),t.d(s,"b",(function(){return m.a})),t.d(s,"c",(function(){return m.b})),t.d(s,"i",(function(){return m.c})),t.d(s,"j",(function(){return m.f}));var a=t(4);const n=e=>({type:a.t,payload:e}),c=e=>({type:a.s,payload:e}),r=(e,s)=>{const t=!s.indexOf(e)>-1?"".concat(s," ").concat(e):s;return{type:a.v,payload:t}},i=e=>{const s=e?e.split(" ").filter((e=>""!==e&&"sub-show-temporary"!==e)):"";let t="";return t=s.includes("main-show-temporary")?s.filter((e=>"main-show-temporary"!==e)).join(" "):"".concat(s.join(" ")," main-show-temporary"),{type:a.u,payload:{containerClassnames:t,menuClickCount:0}}},l=(e,s,t)=>{const n=s?s.split(" ").filter((e=>""!==e)):"";let c="";return t||(!n.includes("menu-default")||e%4!==0&&e%4!==3||(e=1),n.includes("menu-sub-hidden")&&e%4===2&&(e=0),!n.includes("menu-hidden")||e%4!==2&&e%4!==3||(e=0)),e%4===0?(n.includes("menu-default")&&n.includes("menu-sub-hidden")?c="menu-default menu-sub-hidden":n.includes("menu-default")?c="menu-default":n.includes("menu-sub-hidden")?c="menu-sub-hidden":n.includes("menu-hidden")&&(c="menu-hidden"),e=0):e%4===1?n.includes("menu-default")&&n.includes("menu-sub-hidden")?c="menu-default menu-sub-hidden main-hidden sub-hidden":n.includes("menu-default")?c="menu-default sub-hidden":n.includes("menu-sub-hidden")?c="menu-sub-hidden main-hidden sub-hidden":n.includes("menu-hidden")&&(c="menu-hidden main-show-temporary"):e%4===2?n.includes("menu-default")&&n.includes("menu-sub-hidden")?c="menu-default menu-sub-hidden sub-hidden":n.includes("menu-default")?c="menu-default main-hidden sub-hidden":n.includes("menu-sub-hidden")?c="menu-sub-hidden sub-hidden":n.includes("menu-hidden")&&(c="menu-hidden main-show-temporary sub-show-temporary"):e%4===3&&(n.includes("menu-default")&&n.includes("menu-sub-hidden")?c="menu-default menu-sub-hidden sub-show-temporary":n.includes("menu-default")?c="menu-default sub-hidden":n.includes("menu-sub-hidden")?c="menu-sub-hidden sub-show-temporary":n.includes("menu-hidden")&&(c="menu-hidden main-show-temporary")),n.includes("menu-mobile")&&(c+=" menu-mobile"),{type:a.w,payload:{containerClassnames:c,menuClickCount:e}}};var o=t(16);const d=e=>(Object(o.h)(e),{type:a.a,payload:e});var u=t(14),m=t(18)},286:function(e,s,t){"use strict";var a=t(11),n=t(13),c=t(35),r=t(22),i=t(2),l=t.n(i),o=t(31),d=t.n(o),u=t(27),m=t.n(u),b=t(122),j=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],h={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:b.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},p=function(e){function s(s){var t;return(t=e.call(this,s)||this).getRef=t.getRef.bind(Object(c.a)(t)),t.focus=t.focus.bind(Object(c.a)(t)),t}Object(r.a)(s,e);var t=s.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.focus=function(){this.ref&&this.ref.focus()},t.render=function(){var e=this.props,s=e.className,t=e.cssModule,c=e.type,r=e.bsSize,i=e.valid,o=e.invalid,d=e.tag,u=e.addon,h=e.plaintext,p=e.innerRef,f=Object(n.a)(e,j),O=["radio","checkbox"].indexOf(c)>-1,x=new RegExp("\\D","g"),w=d||("select"===c||"textarea"===c?c:"input"),g="form-control";h?(g+="-plaintext",w=d||"input"):"file"===c?g+="-file":"range"===c?g+="-range":O&&(g=u?null:"form-check-input"),f.size&&x.test(f.size)&&(Object(b.warnOnce)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r=f.size,delete f.size);var y=Object(b.mapToCssModules)(m()(s,o&&"is-invalid",i&&"is-valid",!!r&&"form-control-"+r,g),t);return("input"===w||d&&"function"===typeof d)&&(f.type=c),f.children&&!h&&"select"!==c&&"string"===typeof w&&"select"!==w&&(Object(b.warnOnce)('Input with a type of "'+c+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete f.children),l.a.createElement(w,Object(a.a)({},f,{ref:p,className:y,"aria-invalid":o}))},s}(l.a.Component);p.propTypes=h,p.defaultProps={type:"text"},s.a=p},478:function(e,s,t){"use strict";t.r(s);var a=t(2),n=t(222),c=t(230),r=t(231),i=t(330),l=t(331),o=t(201),d=t(134),u=t(125),m=t(135),b=t(37),j=t(123),h=t(145),p=t(149),f=t(28),O=t(26),x=t(12);const w=e=>{const{newPassword:s,confirmPassword:t}=e,a={};return t&&s!==t&&(a.confirmPassword="Please check your new password"),a};s.default=Object(b.b)((e=>{let{authUser:s}=e;const{newPassword:t,resetPasswordCode:a,loading:n,error:c}=s;return{newPassword:t,resetPasswordCode:a,loading:n,error:c}}),{resetPasswordAction:p.n})((e=>{let{loading:s,error:t,email:b}=e;const[p]=Object(a.useState)(""),[g]=Object(a.useState)(""),[y,N]=Object(a.useState)(!1),v=Object(d.useHistory)();Object(a.useEffect)((()=>{t?f.b.warning(t,"Forgot Password Error",3e3,null,null,""):s||"success"!==p||f.b.success("Please login with your new password.","Reset Password Success",3e3,null,null,"")}),[t,s,p]);const P={newPassword:p,confirmPassword:g};return Object(x.jsx)(n.a,{className:"h-100",children:Object(x.jsx)(j.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(x.jsxs)(c.a,{className:"auth-card",children:[Object(x.jsxs)("div",{className:"position-relative image-side ",children:[Object(x.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(x.jsxs)("p",{className:"white mb-0",children:["Please use your e-mail to reset your password. ",Object(x.jsx)("br",{}),"If you are not a member, please"," ",Object(x.jsx)(u.b,{to:"/register",className:"white",children:"register"}),"."]})]}),Object(x.jsxs)("div",{className:"form-side",children:[Object(x.jsx)(u.b,{to:"/",className:"white",children:Object(x.jsx)("span",{className:"logo-single"})}),Object(x.jsx)(r.a,{className:"mb-4",children:"Reset password"}),Object(x.jsx)(m.c,{validate:w,initialValues:P,onSubmit:async e=>{if(N(!0),!s)try{if(""!==e.newPassword){const s=await O.a.confirmPasswordReset({newPassword:e.newPassword,confirmPassword:e.confirmPassword,email:b});s&&200===s.status?(s.data.statuses.forEach((e=>{f.b.success(e.message,e.status,6e3,null,null,"")})),v.push("/login"),N(!1)):f.b.warning("Please check your email url.","Reset Password Error",3e3,null,null,"")}}catch(t){console.error("An error occurred during password reset:",t),f.b.error("An unexpected error occurred.","Reset Password Error",3e3,null,null,"")}},children:e=>{let{errors:s,touched:t}=e;return Object(x.jsxs)(m.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(x.jsxs)(i.a,{className:"form-group has-float-label",children:[Object(x.jsx)(l.a,{children:"New password"}),Object(x.jsx)(m.a,{className:"form-control",name:"newPassword",type:"password"})]}),Object(x.jsxs)(i.a,{className:"form-group has-float-label",children:[Object(x.jsx)(l.a,{children:"Confirm new password"}),Object(x.jsx)(m.a,{className:"form-control",name:"confirmPassword",type:"password"}),s.confirmPassword&&t.confirmPassword&&Object(x.jsx)("div",{className:"invalid-feedback d-block",children:s.confirmPassword})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(x.jsx)(u.b,{to:"/login",children:"Back to login"}),Object(x.jsxs)(o.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(y?"show-spinner":""),size:"lg",children:[Object(x.jsxs)("span",{className:"spinner d-inline-block",children:[Object(x.jsx)("span",{className:"bounce1"}),Object(x.jsx)("span",{className:"bounce2"}),Object(x.jsx)("span",{className:"bounce3"})]}),Object(x.jsx)("span",{className:"label",children:Object(x.jsx)(h.a,{id:"user.reset-password-button"})})]})]})]})}})]})]})})})}))},869:function(e,s,t){"use strict";t.r(s);var a=t(2),n=t(222),c=t(230),r=t(231),i=t(330),l=t(331),o=t(201),d=t(286),u=t(125),m=t(135),b=t(37),j=t(123),h=t(145),p=t(149),f=t(28),O=t(26),x=t(20),w=t.n(x),g=t(9),y=t(478),N=t(12);const v=e=>{let s;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(s="Invalid email address"):s="Please enter your email address",s};s.default=Object(b.b)((e=>{let{authUser:s}=e;const{forgotUserMail:t,loading:a,error:n}=s;return{forgotUserMail:t,loading:a,error:n}}),{forgotPasswordAction:p.h})((e=>{let{loading:s}=e;const[t,b]=Object(a.useState)(""),[p,x]=Object(a.useState)(0),[P,S]=Object(a.useState)(!1),[k,E]=Object(a.useState)(!1),[R,C]=Object(a.useState)(!1),z={email:t};return R?Object(N.jsx)(y.default,{email:t}):Object(N.jsx)(n.a,{className:"h-100",children:Object(N.jsx)(j.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(N.jsxs)(c.a,{className:"auth-card",children:[Object(N.jsxs)("div",{className:"position-relative image-side",children:[Object(N.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(N.jsxs)("p",{className:"white mb-0",children:["Please use your e-mail to reset your password. ",Object(N.jsx)("br",{}),"If you are not a member, please"," ",Object(N.jsx)(u.b,{to:"/user/register",className:"white",children:"register"}),"."]})]}),Object(N.jsxs)("div",{className:"form-side",children:[Object(N.jsx)(u.b,{to:"/",className:"white",children:Object(N.jsx)("span",{className:"logo-single"})}),Object(N.jsx)(r.a,{className:"mb-4",children:Object(N.jsx)(h.a,{id:"user.forgot-password"})}),Object(N.jsx)(m.c,{initialValues:z,onSubmit:async e=>{if(!s&&(b(e.email),""!==e.email)){const s=await O.a.sendPasswordResetEmail(e.email);s&&200===s.status?S(!0):(console.error("forgot email post Failed:",s),s.data.statuses.forEach((e=>{f.b.warning(e.message,e.status,5e3,null,null,"")})))}},children:e=>{let{errors:t,touched:a}=e;return Object(N.jsxs)(m.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(N.jsxs)(i.a,{className:"form-group has-float-label",children:[Object(N.jsx)(l.a,{children:Object(N.jsx)(h.a,{id:"user.email"})}),Object(N.jsx)(m.a,{className:"form-control",name:"email",validate:v}),t.email&&a.email&&Object(N.jsx)("div",{className:"invalid-feedback d-block",children:t.email})]}),!P&&Object(N.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(N.jsx)(u.b,{to:"/login",children:"Back to login"}),Object(N.jsxs)(o.a,{type:"submit",color:"primary",className:"btn-shadow btn-multiple-state ".concat(s?"show-spinner":""),size:"lg",children:[Object(N.jsxs)("span",{className:"spinner d-inline-block",children:[Object(N.jsx)("span",{className:"bounce1"}),Object(N.jsx)("span",{className:"bounce2"}),Object(N.jsx)("span",{className:"bounce3"})]}),Object(N.jsx)("span",{className:"label",children:"Submit"})]})]})]})}}),P&&Object(N.jsxs)(i.a,{className:"form-group has-float-label mt-4",children:[Object(N.jsx)(l.a,{children:"Enter OTP"}),Object(N.jsx)(d.a,{className:"form-control",name:"otp",type:"number",onChange:e=>x(e.target.value)}),Object(N.jsx)("div",{className:"text-right",children:Object(N.jsxs)(o.a,{color:"primary",className:"mt-3 btn-shadow btn-multiple-state ".concat(k?"show-spinner":""),size:"lg",onClick:async()=>{E(!0);try{const e={email:t,otp:p},s="".concat(g.d,"/api/verifyotp"),a=await w.a.post(s,e);"success"===a.data.statuses[0].status&&(C(!0),E(!1),a.data.statuses.forEach((e=>{f.b.success(e.message,e.status,6e3,null,null,"")})))}catch(e){console.error("Error Submitting OTP:",e.response?e.response.data:e.message),setTimeout((()=>{f.b.warning("Error Submitting OTP","Oops!",3e3,null,null,""),E(!1)}),3e3)}},children:[Object(N.jsxs)("span",{className:"spinner d-inline-block",children:[Object(N.jsx)("span",{className:"bounce1"}),Object(N.jsx)("span",{className:"bounce2"}),Object(N.jsx)("span",{className:"bounce3"})]}),Object(N.jsx)("span",{className:"label",children:"Submit OTP"})]})})]})]})]})})})}))}}]);
//# sourceMappingURL=user-forgot-password.226739fa.chunk.js.map